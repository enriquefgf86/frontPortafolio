<div class="container">
  <div class="row" *ngIf="allPortafolio">
    <div  class="col-sm-12 col-xs-12 col-lg-4 col-md-6" *ngFor="let post of allPortafolio;let i=index">


      <mat-card class="example-card" id="cardStyle">

        <div class="container" class='d-flex justify-content-center'>

          <button mat-raised-button color="primary" routerLink="post/view/{{post.id}}">See Project</button>
          <button mat-raised-button color="primary" *ngIf="isAuth" (click)="delete(post.id)">Delete</button>

        </div>

        <div class=" d-flex  justify-content-center">
          <div class="container d-flex flex-column justify-content-center">

            <div class="container d-flex  justify-content-center">

              <h6 class="h6 font-weight-bold text-center justify-content-center"><strong >Project {{post.name}}</strong> </h6>

            </div>

            <div class="container d-flex  justify-content-center">

              <h6 class="h6 font-weight-bold text-center"><small><strong class="font-weight-bold">Published By :
              </strong>{{ post.text}}</small> </h6>

            </div>

          </div>





        </div>




        <mat-divider></mat-divider>
        <div class="d-flex justify-content-center">
          <div class="container" id="techContainer">
            <p class="text-center mt-2" style="font-size: 0.875em"><strong>{{post.technologies}} </strong></p>
          </div>

        </div>
        <mat-divider></mat-divider>

        <div class="container"
          style="padding-top:10px;padding-bottom:10px;margin-left:2%; display:flex;justify-content: center;"
          class='d-flex justify-content-center'>
          <ngb-carousel timings="200ms ease-in" interval="6000" color="white" class='d-flex justify-content-center'>
            <ng-template ngbSlide *ngFor="let image of arrayOfImages" style="display:flex;justify-content: center;">

              <img id="imageCarousel1" *ngIf="post.id===image.id;else alternative"
                style="width:90%; height:80px;border-radius:10px;margin-left:4%" [src]="image.image" alt="Random slide">

              <ng-template #alternative>
                <img id="imageCarousel1" else style="width:90%; height:80px;border-radius:10px;margin-left:4%"
                  [src]="arrayOfImages[randomNumber].image" alt="Random slide">

              </ng-template>
            </ng-template>
          </ngb-carousel>


        </div>

        <mat-divider> </mat-divider>

        <div class="container" style="padding-top:10px;padding-bottom:10px;justify-content:center">
          <!-- <div class="row" class='d-flex justify-content-center'> -->
          <!-- <div class="col-sm-12 md-4" class='d-flex justify-content-center'> -->

          <div class="container d-flex justify-content-center" *ngFor="let video of arrayOfVideos;let i=index">

            <video *ngIf="video.id==post.id" [src]="video.video" width="180" height="120" controls muted=true
              style="border-radius:20px">
              Your browser does not support the video tag.
            </video>


          </div>

          <!-- </div> -->
          <!-- </div> -->
        </div>

        <mat-divider> </mat-divider>

        <mat-card-content style='overflow-y: scroll;
        overflow-x: hidden;height:70px;'>
          <small class="modal-body1"><strong>Description : </strong>{{ post.description}}</small>
        </mat-card-content>

        <mat-divider> </mat-divider>

        <div class="container">

          <div class="row">

            <h4 *ngIf="post.allComments">
              <small><strong>Comments</strong>({{post.allComments.length>0?post.allComments.length:"No comments"}})</small>
            </h4>

            <i class="fa fa-angle-double-down fa-2x" *ngIf="up[i]&&post.allComments" (click)="up[i]=!up[i]"
              aria-hidden="true" role="button" data-toggle="collapse" data-target="#commentOverflow1"> </i>
            <i class="fa fa-angle-double-up fa-2x" *ngIf="!up[i] &&post.allComments" (click)="up[i]=!up[i]"
              aria-hidden="true" role="button" data-toggle="collapse" data-target="#commentOverflow1"> </i>

            <div class="container" *ngIf="up[i]" id="commentOverflow2">
              <div *ngFor="let comment of post.allComments; let ind = index" id="commentOverflow1" class="collapse"
                style="margin-bottom:0.9rem">

                <div class="container d-flex flex-column justify-content-start" id="comment">
                  <small><strong>Published by: {{comment.name}}</strong></small>
                  <small>{{comment.comments}}</small>
                </div>

              </div>

            </div>
            <mat-divider> </mat-divider>

          </div>
        </div>
      </mat-card>

    </div>
  </div>
  <div class="row" *ngIf="loader">
    <div class="spinner-border" style="width: 8rem; height: 8rem;margin-top:20%" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</div>
